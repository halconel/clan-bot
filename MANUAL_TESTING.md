# Инструкция по ручному тестированию бота

## Статус
**Бот запущен локально**: `@ComradeClanBot` (ID: 8399686969)
**Админ ID**: 310711996 (из .env файла)

## Предварительная подготовка

### 1. Проверка запуска бота
```bash
# Проверить что бот работает
ps aux | grep "python main.py" | grep -v grep

# Проверить логи
tail -f /tmp/bot_run.log

# Остановить бота (если нужно)
pkill -f "python main.py"
```

## Сценарии ручного тестирования

### 1. Базовые команды (/start, /help)

**Тест 1: Приветствие нового пользователя**
1. Открыть бота в Telegram: `@ComradeClanBot`
2. Отправить: `/start`
3. ✅ Ожидаемый результат:
   - Приветственное сообщение с названием клана "The Born USSR"
   - Правила клана
   - Ссылка на группу регистрации
   - Кнопка /register

**Проверка:** Сообщение должно содержать приветствие и правила клана

---

**Команда `/help`:**
```
/help
```
Ожидается: список всех команд с описанием

---

## 2. Тест регистрации нового игрока

**Сценарий**: Обычный пользователь регистрируется впервые

1. Отправьте `/register`
   - ✅ Бот должен попросить ввести никнейм

2. Отправьте **валидный никнейм** (например: `TestPlayer123`)
   - ✅ Бот должен запросить скриншот профиля

3. Отправьте **фото** (любое изображение как скриншот)
   - ✅ Бот должен принять скриншот
   - ✅ Отправить уведомление админу (ваш Telegram ID: 310711996)
   - ✅ Показать сообщение: "Заявка отправлена на рассмотрение"

### Тест 2: Проверка /pending и approval/reject

**Админ аккаунт (ID: 310711996):**
1. Отправьте `/pending` → должны увидеть заявку с кнопками
2. Нажмите "✅ Одобрить" → игрок добавлен в БД
3. Повторите регистрацию → должно показать "уже зарегистрированы"

### Тесты граничных случаев:

4. **Невалидный никнейм:**
   - `/register` → отправьте "AB" → должна быть ошибка "слишком короткий"
   - `/register` → отправьте "Test@Player!" → должна быть ошибка "только буквы"

5. **Повторная регистрация**:
   - После успешной регистрации попробуйте `/register` снова
   - Должно быть: "❌ Вы уже зарегистрированы"

6. **Проверка non-admin доступа** (с другого аккаунта):
   - Попробуйте `/pending` от обычного пользователя
   - Должно быть: "❌ У вас нет прав для выполнения этой команды."

## Ожидаемые результаты:

✅ Бот отвечает на /start с полным приветствием
✅ /register запрашивает никнейм
✅ После никнейма просит скриншот
✅ После отправки фото админ получает уведомление с кнопками
✅ /pending показывает список заявок
✅ Кнопка "Одобрить" добавляет игрока в БД
✅ /list показывает зарегистрированных игроков

Готово начать тестирование!

**PID процесса бота**: 217351
**Логи**: `/tmp/bot_run.log` и `bot.log`

Чтобы остановить бота: `kill 217351`